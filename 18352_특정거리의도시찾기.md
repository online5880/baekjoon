# [ë°±ì¤€ 18352ë²ˆ] íŠ¹ì • ê±°ë¦¬ì˜ ë„ì‹œ ì°¾ê¸°

- **ë¬¸ì œ ë§í¬** : [íŠ¹ì • ê±°ë¦¬ì˜ ë„ì‹œ ì°¾ê¸°](https://boj.kr/18352)
- **ë‚œì´ë„** : ì‹¤ë²„ 2
- **í’€ì´ ë‚ ì§œ** : 2025-02-24
---

## ğŸ“– ë¬¸ì œ ì„¤ëª…

> ì–´ë–¤ ë‚˜ë¼ì—ëŠ” 1ë²ˆë¶€í„° Në²ˆê¹Œì§€ì˜ ë„ì‹œì™€ Mê°œì˜ ë‹¨ë°©í–¥ ë„ë¡œê°€ ì¡´ì¬í•œë‹¤. ëª¨ë“  ë„ë¡œì˜ ê±°ë¦¬ëŠ” 1ì´ë‹¤.
>
>ì´ ë•Œ íŠ¹ì •í•œ ë„ì‹œ Xë¡œë¶€í„° ì¶œë°œí•˜ì—¬ ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ë„ì‹œ ì¤‘ì—ì„œ, ìµœë‹¨ ê±°ë¦¬ê°€ ì •í™•íˆ Kì¸ ëª¨ë“  ë„ì‹œë“¤ì˜ ë²ˆí˜¸ë¥¼ ì¶œë ¥í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤. ë˜í•œ ì¶œë°œ ë„ì‹œ Xì—ì„œ ì¶œë°œ ë„ì‹œ Xë¡œ ê°€ëŠ” ìµœë‹¨ ê±°ë¦¬ëŠ” í•­ìƒ 0ì´ë¼ê³  ê°€ì •í•œë‹¤.
>
>ì˜ˆë¥¼ ë“¤ì–´ N=4, K=2, X=1ì¼ ë•Œ ë‹¤ìŒê³¼ ê°™ì´ ê·¸ë˜í”„ê°€ êµ¬ì„±ë˜ì–´ ìˆë‹¤ê³  ê°€ì •í•˜ì.
>
> ![alt text](images/18352.png)
>ì´ ë•Œ 1ë²ˆ ë„ì‹œì—ì„œ ì¶œë°œí•˜ì—¬ ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ë„ì‹œ ì¤‘ì—ì„œ, ìµœë‹¨ ê±°ë¦¬ê°€ 2ì¸ ë„ì‹œëŠ” 4ë²ˆ ë„ì‹œ ë¿ì´ë‹¤.  2ë²ˆê³¼ 3ë²ˆ ë„ì‹œì˜ ê²½ìš°, ìµœë‹¨ ê±°ë¦¬ê°€ 1ì´ê¸° ë•Œë¬¸ì— ì¶œë ¥í•˜ì§€ ì•ŠëŠ”ë‹¤.
## ğŸ“Œ ì…ë ¥

> ì²«ì§¸ ì¤„ì— ë„ì‹œì˜ ê°œìˆ˜ N, ë„ë¡œì˜ ê°œìˆ˜ M, ê±°ë¦¬ ì •ë³´ K, ì¶œë°œ ë„ì‹œì˜ ë²ˆí˜¸ Xê°€ ì£¼ì–´ì§„ë‹¤. (2 â‰¤ N â‰¤ 300,000, 1 â‰¤ M â‰¤ 1,000,000, 1 â‰¤ K â‰¤ 300,000, 1 â‰¤ X â‰¤ N) ë‘˜ì§¸ ì¤„ë¶€í„° Mê°œì˜ ì¤„ì— ê±¸ì³ì„œ ë‘ ê°œì˜ ìì—°ìˆ˜ A, Bê°€ ê³µë°±ì„ ê¸°ì¤€ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ì£¼ì–´ì§„ë‹¤. ì´ëŠ” Aë²ˆ ë„ì‹œì—ì„œ Bë²ˆ ë„ì‹œë¡œ ì´ë™í•˜ëŠ” ë‹¨ë°©í–¥ ë„ë¡œê°€ ì¡´ì¬í•œë‹¤ëŠ” ì˜ë¯¸ë‹¤. (1 â‰¤ A, B â‰¤ N) ë‹¨, Aì™€ BëŠ” ì„œë¡œ ë‹¤ë¥¸ ìì—°ìˆ˜ì´ë‹¤.

## ğŸ“Œ ì¶œë ¥

> Xë¡œë¶€í„° ì¶œë°œí•˜ì—¬ ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ë„ì‹œ ì¤‘ì—ì„œ, ìµœë‹¨ ê±°ë¦¬ê°€ Kì¸ ëª¨ë“  ë„ì‹œì˜ ë²ˆí˜¸ë¥¼ í•œ ì¤„ì— í•˜ë‚˜ì”© ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì¶œë ¥í•œë‹¤.

ì´ ë•Œ ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ë„ì‹œ ì¤‘ì—ì„œ, ìµœë‹¨ ê±°ë¦¬ê°€ Kì¸ ë„ì‹œê°€ í•˜ë‚˜ë„ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ -1ì„ ì¶œë ¥í•œë‹¤.

## âŒ¨ï¸ ì˜ˆì œ ì…ì¶œë ¥
### ì…ë ¥

```python
4 4 2 1
1 2
1 3
2 3
2 4
```
### ì¶œë ¥

```python
4
```

---

## ğŸ“ í’€ì´ ì½”ë“œ

```python
import sys                           # sys ëª¨ë“ˆ: ì‹œìŠ¤í…œ ê´€ë ¨ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë¶ˆëŸ¬ì˜´ (ì˜ˆ: ë¹ ë¥¸ ì…ë ¥ ì²˜ë¦¬)
from collections import deque

input = sys.stdin.readline

N, M, K, X = map(int, input().split()) # ë„ì‹œ ê°œìˆ˜, ë„ë¡œ ê°œìˆ˜, ê±°ë¦¬ ì •ë³´, ì¶œë°œ ë„ì‹œ

A = [[] for _ in range(N+1)] # ì¸ì ‘ ë¦¬ìŠ¤íŠ¸

visited = [-1] * (N+1) # ë„ì°© ì •ë³´(ë°©ë¬¸ ê±°ë¦¬)

answer = [] # ì •ë‹µ ë¦¬ìŠ¤íŠ¸


def bfs(v): # bfs
    queue = deque()
    queue.append(v)
    visited[v] += 1
    while  queue:
        now = queue.popleft()
        for i in A[now]:
            if visited[i] == -1:
                visited[i] = visited[now] + 1
                queue.append(i)


for _ in range(M): # ì¸ì ‘ë¦¬ìŠ¤íŠ¸
    s, e = map(int, input().split())
    A[s].append(e)


bfs(X)


for i in range(N+1): # ê±°ë¦¬ ì •ë³´ì™€ ì¼ì¹˜í•˜ëŠ” ê²ƒì´ ìˆìœ¼ë©´ ì¶”ê°€
    if visited[i] == K:
        answer.append(i)

if not answer:
    print(-1)
else:
    answer.sort()
    for i in answer:
        print(i)
```

---
 
### ğŸ” ì½”ë“œ ì„¤ëª…
- bfsë¥¼ ì´ìš©í•´ ê° ë„ì‹œë¡œ ê°€ëŠ” ìµœë‹¨ê±°ë¦¬ë¥¼ êµ¬í•œë‹¤.    
